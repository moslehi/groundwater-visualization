
<!DOCTYPE html>
<html>
  <head>
  <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>montcoalert.org</title>
    <style>
      html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      }
      #map {
      height: 100%;
      }
    </style>
  </head>
  <body>
      <div id="map"></div>
    <script>
 var points = [
['Area Name:  Long Island, New York,  Depletion avg rate(km^3/year): -0.053', 40.809274, -73.207837, 0, 'hsl(200, 100.0%, 85.0%)'],
['Area Name:  Maryland and Delaware,  Depletion avg rate(km^3/year): 0.042', 38.703696, -75.729839, 1, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  North Carolina,  Depletion avg rate(km^3/year): 0.053', 35.740053, -79.681653, 2, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  South Carolina ,  Depletion avg rate(km^3/year): 0.062', 34.025142, -81.182103, 3, 'hsl(0, 100.0%, 86.0%)'],
['Area Name:  Virginia,  Depletion avg rate(km^3/year): 0.244', 37.518243, -78.699193, 4, 'hsl(0, 100.0%, 73.0%)'],
['Area Name:  Coastal Lowlands of AL,FL,LA,MS,  Depletion avg rate(km^3/year): 0.09', 30.135412, -91.33347, 5, 'hsl(0, 100.0%, 84.0%)'],
['Area Name:  Houston Area and Northern Part of TX Gulf Coast,  Depletion avg rate(km^3/year): 0.28', 29.348492, -95.1907, 6, 'hsl(0, 100.0%, 70.0%)'],
['Area Name:  Winter Garden Area, Southern Part of TX Gulf Coast,  Depletion avg rate(km^3/year): 0.012', 27.480642, -98.769052, 7, 'hsl(0, 100.0%, 89.0%)'],
['Area Name:  Mississippi Embayment,  Depletion avg rate(km^3/year): 8.048', 33.900246, -90.948335, 8, 'hsl(0, 100.0%, 55.0%)'],
['Area Name: High Plains (Ogallala) Aquifer,  Depletion avg rate(km^3/year): 11.83', 39.90749, -100.89451, 9, 'hsl(0, 100.0%, 50.0%)'],
['Area Name: Central Valley, California,  Depletion avg rate(km^3/year): 3.919', 37.566375, -120.443295, 10, 'hsl(0, 100.0%, 65.0%)'],
['Area Name:  Alluvial Basins, Arizona,  Depletion avg rate(km^3/year): -0.41', 33.983981, -112.307086, 11, 'hsl(200, 100.0%, 65.0%)'],
['Area Name:  Antelope Valley, California,  Depletion avg rate(km^3/year): 0.005', 34.75134, -118.252019, 12, 'hsl(0, 100.0%, 90.0%)'],
['Area Name:  Coachella Valley, California,  Depletion avg rate(km^3/year): 0.06', 33.7665, -116.359349, 13, 'hsl(0, 100.0%, 86.0%)'],
['Area Name:  Death Valley Region, CA-NV,  Depletion avg rate(km^3/year): 0.08', 36.55539, -116.678498, 14, 'hsl(0, 100.0%, 85.0%)'],
['Area Name:  Escalante Valley, Utah,  Depletion avg rate(km^3/year): 0.062', 37.804083, -113.63364, 15, 'hsl(0, 100.0%, 86.0%)'],
['Area Name:  Estancia Basin, New Mexico,  Depletion avg rate(km^3/year): 0.028', 34.812279, -106.241404, 16, 'hsl(0, 100.0%, 88.0%)'],
['Area Name:  Hueco Bolson, New Mexico-Texas,  Depletion avg rate(km^3/year): 0.135', 31.993273, -105.87865, 17, 'hsl(0, 100.0%, 81.0%)'],
['Area Name:  Las Vegas Valley, Nevada,  Depletion avg rate(km^3/year): -0.026', 36.186643, -115.152969, 18, 'hsl(200, 100.0%, 92.0%)'],
['Area Name:  Los Angeles Basin, CA,  Depletion avg rate(km^3/year): 0.014', 34.049976, -118.242305, 19, 'hsl(0, 100.0%, 89.0%)'],
['Area Name:  Mesilla Basin, New Mexico,  Depletion avg rate(km^3/year): 0.01', 32.269865, -106.805577, 20, 'hsl(0, 100.0%, 90.0%)'],
['Area Name:  Middle Rio Grande Basin, NM,  Depletion avg rate(km^3/year): 0.042', 35.076834, -106.643165, 21, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  Milford Area, Utah,  Depletion avg rate(km^3/year): 0.021', 38.402586, -113.00308, 22, 'hsl(0, 100.0%, 89.0%)'],
['Area Name:  Mojave River Basin, CA,  Depletion avg rate(km^3/year): 0.041', 34.343812, -117.238413, 23, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  Pahvant Valley, Utah,  Depletion avg rate(km^3/year): 0.037', 39.208427, -112.31729, 24, 'hsl(0, 100.0%, 88.0%)'],
['Area Name:  Paradise Valley, Nevada,  Depletion avg rate(km^3/year): 0.005', 41.493483, -117.534477, 25, 'hsl(0, 100.0%, 90.0%)'],
['Area Name:  Pecos River Basin Alluvium, TX,  Depletion avg rate(km^3/year): 0.093', 32.163635, -102.843816, 26, 'hsl(0, 100.0%, 84.0%)'],
['Area Name:  San Luis Valley, Colorado,  Depletion avg rate(km^3/year): 0.045', 37.736947, -105.842336, 27, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  Tularosa Basin, New Mexico,  Depletion avg rate(km^3/year): 0.05', 33.035592, -106.045455, 28, 'hsl(0, 100.0%, 87.0%)'],
['Area Name:  Columbia Plateau Aquifer System,  Depletion avg rate(km^3/year): 0.17', 46.22621, -118.255022, 29, 'hsl(0, 100.0%, 78.0%)'],
['Area Name:  Oahu, Hawaii,  Depletion avg rate(km^3/year): 0.005', 21.449014, -158.003722, 30, 'hsl(0, 100.0%, 90.0%)'],
['Area Name:  Snake River Plain, Idaho,  Depletion avg rate(km^3/year): 0.18', 43.051244, -113.837553, 31, 'hsl(0, 100.0%, 77.0%)'],
['Area Name:  Black Mesa Area, Arizona,  Depletion avg rate(km^3/year): 0.008', 34.61333, -110.242964, 32, 'hsl(0, 100.0%, 90.0%)'],
['Area Name:  Midwest Cambrian-Ordovician Aquifer System,  Depletion avg rate(km^3/year): 0.175', 43.29109, -90.249921, 33, 'hsl(0, 100.0%, 78.0%)'],
['Area Name:  Dakota Aquifer, Northern Great Plains,  Depletion avg rate(km^3/year): 0.089', 47.68322, -103.226456, 34, 'hsl(0, 100.0%, 84.0%)'],
['Area Name:  Denver Basin, Colorado,  Depletion avg rate(km^3/year): 0.051', 39.983475, -104.086078, 35, 'hsl(0, 100.0%, 87.0%)'],
];function initMap() {
      var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 4,
      center: {lat: 40.571575, lng: -106.452197}
     
      });

      markers = setMarkers(map);
      

      map.addListener('zoom_changed', function() {

    var pixelSizeAtZoom0 = 2; //the size of the icon at zoom level 0
    var maxPixelSize = 600; //restricts the maximum size of the icon, otherwise the browser will choke at higher zoom levels trying to scale an image to millions of pixels

    var zoom = map.getZoom();
    var relativePixelSize = Math.round(pixelSizeAtZoom0*Math.pow(1.6,zoom)); // use 2 to the power of current zoom to calculate relative pixel size.  Base of exponent is 2 because relative size should double every time you zoom in

    if(relativePixelSize > maxPixelSize) //restrict the maximum size of the icon
        relativePixelSize = maxPixelSize;
    //change the size of the icon
    
    for (var i = 0; i < markers.length; i++) {
    point = points[i]
       markers[i].setIcon({
                                  path: google.maps.SymbolPath.CIRCLE,
                                  fillColor: point[4],
                                  fillOpacity: 0.8,
                                  scale: relativePixelSize,
                                  strokeColor: 'white',
                                  strokeWeight: .5
                                })
      
                          
                          }
                          });
                          

} 
       function setMarkers(map) {
      // Adds markers to the map.

    
  
      var markers = []
       for (var i = 0; i < points.length; i++) {
                          var point = points[i];
                          var marker = new google.maps.Marker({
                          position: {lat: point[1], lng: point[2]},
                          map: map,
                          icon: {
                                  path: google.maps.SymbolPath.CIRCLE,
                                  fillColor: point[4],
                                  fillOpacity: 0.8,
                                  scale: 2*Math.pow(1.6,map.getZoom()),
                                  strokeColor: 'white',
                                  strokeWeight: .5
                                },
                          
                          draggable: false,
                          title: point[0],
                          zIndex: point[3]
                          });
                          markers.push(marker)
                          }
                          
                          return markers;
                          }

                          </script>

        <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCR2Qp3o5fgCFd4WtF68x4j7yeSJ8oUhlY&callback=initMap"></script>

  </body>
</html>
      

